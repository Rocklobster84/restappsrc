<nav aria-label="Page navigation">
    <% if (pages && pages > 0) { %>
        <ul class="pagination justify-content-center">

            <% if (current === 1) { %>
                <li class="page-item disabled">
                    <a class="page-link">First</a>
                </li>
            <% } else { %>
                <li>
                    <a class="page-link" href="/solutions<%if(search){%>&search=<%=search%><%}%><%if(tags){%><%for(tag = 0; tag < tags.length; tag++){%>&tags=<%=tags[tag]%><%}%><%}%>">First</a>
                </li>
            <% } %>

            <% if (current === 1) { %>
                <li class="page-item disabled">
                    <a class="page-link">«</a>
                </li>
            <% } else { %>
                <li>
                    <a class="page-link" href="/solutions?page=<%= Number(current) - 1 %><%if(search){%>&search=<%=search%><%}%><%if(tags){%><%for(tag = 0; tag < tags.length; tag++){%>&tags=<%=tags[tag]%><%}%><%}%>">«</a>
                </li>
            <% } %>

            <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
            <% if (i !== 1) { %>
                <li class="page-item disabled">
                    <a class="page-link">...</a>
                </li>
            <% } %>
            <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                <% if (i == current) { %>
                    <li class="active">
                        <a class="page-link"><%= i %></a>
                    </li>
                <% } else { %>
                    <li>
                        <a class="page-link" href="/solutions?page=<%= i %><%if(search) {%>&search=<%=search%><%}%><%if(tags){%><%tags.forEach(function(tagsEntered){%><%if(tagsEntered.length > 1){%><% var tagArray = tagsEntered.splice(',')%>&tags=<%=tagArray%><% console.log(tagArray)%><%}else if (tagsEntered.length === 1){%>&tags=<%=[tagsEntered]%><% console.log([tagsEntered])%><%}%><%})%><%}%>"><%= i %></a>
                    </li>
                <% } %>
                <% if (i === Number(current) + 4 && i < pages) { %>
                    <li class="page-item disabled">
                        <a class="page-link">...</a>
                    </li>
                <% } %>
            <% } %>

            <% if (current === pages) { %>
                <li class="page-item disabled">
                    <a class="page-link">»</a>
                </li>
            <% } else { %>
                <li>
                    <a class="page-link" href="/solutions?page=<%= Number(current) + 1 %><%if(search){%>&search=<%=search%><%}%><%if(tags){%><%for(tag = 0; tag < tags.length; tag++){%>&tags=<%=tags[tag]%><%}%><%}%>">»</a>
                </li>
            <% } %>

            <% if (current === pages) { %>
                <li class="page-item disabled">
                    <a class="page-link">Last</a>
                </li>
            <% } else { %>
                <li>
                    <a class="page-link" href="/solutions?page=<%= pages %><% if(search) {%>&search=<%=search%><%}%><%if(tags){%><%for(tag = 0; tag < tags.length; tag++){%>&tags=<%=tags[tag]%><%}%><%}%>">Last</a>
                </li>
            <% } %>
        </ul>
    <% } %>
</nav>